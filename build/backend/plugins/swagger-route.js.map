{"version":3,"sources":["plugins/swagger-route.js"],"names":[],"mappings":";;;;oBAAsB,MAAM;;IAAhB,IAAI;;AAEhB,IAAM,UAAU,GAAG,0BAA0B,CAAA;;AAE7C,IAAI,YAAY,GAAG;AACjB,UAAQ,EAAC,kBAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE;;AAE/B,UAAM,CAAC,KAAK,CAAC;AACX,YAAM,EAAE,KAAK;AACb,UAAI,EAAE,WAAW;AACjB,aAAO,EAAC,iBAAC,GAAG,EAAE,KAAK,EAAE;AACnB,aAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAA;OAC3B;KACF,CAAC,CAAA;;AAEF,UAAM,CAAC,KAAK,CAAC;AACX,YAAM,EAAE,KAAK;AACb,UAAI,EAAE,uBAAuB;AAC7B,aAAO,EAAC,iBAAC,GAAG,EAAE,KAAK,EAAE;AACnB,YAAI,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE;AAC1C,iBAAO,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAA;SAClC;;AAED,YAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,+BAA+B,EAAE,GAAG,CAAC,MAAM,CAAC,QAAQ,IAAI,YAAY,CAAC,CAAA;AACjG,aAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;OACrB;KACF,CAAC,CAAA;;AAEF,QAAI,EAAE,CAAA;GACP;CACF,CAAA;;AAED,YAAY,CAAC,QAAQ,CAAC,UAAU,GAAG;AACjC,MAAI,EAAE,cAAc;AACpB,SAAO,EAAE,OAAO;CACjB,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,OAAO,GAAG,YAAY,CAAA","file":"plugins/swagger-route.js","sourcesContent":["import * as path from 'path'\r\n\r\nconst defaultUrl = '/api-test/?url=/api-docs'\r\n\r\nvar swaggerRoute = {\r\n  register (server, options, next) {\r\n    // redirect to default url\r\n    server.route({\r\n      method: 'GET',\r\n      path: '/api-test',\r\n      handler (req, reply) {\r\n        reply.redirect(defaultUrl)\r\n      }\r\n    })\r\n\r\n    server.route({\r\n      method: 'GET',\r\n      path: '/api-test/{filename*}',\r\n      handler (req, reply) {\r\n        if (!req.params.filename && !req.query.url) {\r\n          return reply.redirect(defaultUrl)\r\n        }\r\n\r\n        var filePath = path.resolve('node_modules/swagger-ui/dist/', req.params.filename || 'index.html')\r\n        reply.file(filePath)\r\n      }\r\n    })\r\n\r\n    next()\r\n  }\r\n}\r\n\r\nswaggerRoute.register.attributes = {\r\n  name: 'swaggerRoute',\r\n  version: '1.0.0'\r\n}\r\n\r\nmodule.exports = exports = swaggerRoute\r\n"],"sourceRoot":"/source/"}