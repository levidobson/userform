{"version":3,"sources":["plugins/occupations.js"],"names":[],"mappings":";;;;;;;;mCAAgB,uBAAuB;;;;AAEvC,IAAI,cAAc,GAAG,CAAC,oBAAoB,EAAE,YAAY,EAAE,qBAAqB,CAAC,CAAA;;AAEhF,IAAI,WAAW,GAAG;AAChB,UAAQ,EAAC,kBAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE;AAC/B,UAAM,CAAC,KAAK,CAAC;AACX,YAAM,EAAE,KAAK;AACb,UAAI,EAAE,cAAc;AACpB,YAAM,EAAE;AACN,gBAAQ,EAAE;AACR,gBAAM,EAAE;AACN,kBAAM,EAAE,iCAAI,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC;WAC7B;SACF;OACF;AACD,aAAO,EAAC,iBAAC,GAAG,EAAE,KAAK,EAAE;AACnB,aAAK,CAAC;AACJ,qBAAW,EAAE,cAAc,CACxB,MAAM,CAAC,UAAA,UAAU;mBAAI,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;WAAA,CAAC,CACjE,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC;mBAAK,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,WAAW,EAAE;WAAA,CAAC;SACrD,CAAC,CAAA;OACH;KACF,CAAC,CAAA;;AAEF,QAAI,EAAE,CAAA;GACP;CACF,CAAA;;AAED,WAAW,CAAC,QAAQ,CAAC,UAAU,GAAG;AAChC,MAAI,EAAE,aAAa;AACnB,SAAO,EAAE,OAAO;CACjB,CAAA;;qBAEc,WAAW","file":"plugins/occupations.js","sourcesContent":["import Joi from 'hapi/node_modules/joi'\n\nvar occupationList = ['software developer', 'HR manager', 'assessment reviewer']\n\nvar occupations = {\n  register (server, options, next) {\n    server.route({\n      method: 'GET',\n      path: '/occupations',\n      config: {\n        validate: {\n          params: {\n            filter: Joi.string().max(50)\n          }\n        }\n      },\n      handler (req, reply) {\n        reply({\n          occupations: occupationList\n            .filter(occupation => occupation.indexOf(req.query.filter) !== -1)\n            .sort((a, b) => a.toLowerCase() > b.toLowerCase())\n        })\n      }\n    })\n\n    next()\n  }\n}\n\noccupations.register.attributes = {\n  name: 'occupations',\n  version: '1.0.0'\n}\n\nexport default occupations"],"sourceRoot":"/source/"}